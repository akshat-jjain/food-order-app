{"version":3,"sources":["CartContext.js","components/Product.js","components/Products.js","pages/Home.js","pages/ProductsPage.js","pages/Cart.js","components/Navigation.js","pages/SingleProduct.js","helpers.js","App.js","reportWebVitals.js","index.js"],"names":["CartContext","createContext","Product","props","useState","isAdding","setIsAdding","useContext","cart","setCart","product","to","_id","src","image","alt","className","name","size","price","disabled","onClick","e","event","preventDefault","_cart","items","totalItems","setTimeout","addToCart","Products","products","setProducts","useEffect","fetch","headers","then","response","json","map","Home","id","ProductsPage","Cart","total","priceFetched","togglePriceFetched","res","getQty","productId","filter","getSum","sum","length","existingQty","decrement","increment","qty","updatedProductList","handleDelete","alert","Navigation","style","height","background","display","padding","borderRadius","SingleProduct","setProduct","params","useParams","history","useHistory","value","arr","prop","i","getIndex","goBack","App","Promise","reslove","reject","window","localStorage","getItem","JSON","parse","setItem","storeCart","stringify","basename","process","Provider","path","component","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NACaA,EAAcC,wBAAc,M,OCgD1BC,EA7CC,SAACC,GACb,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BC,qBAAWP,GAA7BQ,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACNC,EAAYP,EAAZO,QAyBR,OACI,cAAC,IAAD,CAAMC,GAAE,oBAAeD,EAAQE,KAA/B,SACI,gCACI,qBAAKC,IAAKH,EAAQI,MAAOC,IAAI,UAC7B,sBAAKC,UAAU,cAAf,UACI,oBAAIA,UAAU,yBAAd,SAAwCN,EAAQO,OAChD,sBAAMD,UAAU,6CAAhB,SAA8DN,EAAQQ,UAE1E,sBAAKF,UAAU,yCAAf,UACI,2CAASN,EAAQS,SACjB,yBAAQC,SAAUf,EAAUgB,QAAS,SAACC,IAjCpC,SAACC,EAAOb,GACtBa,EAAMC,iBACN,IAAIC,EAAK,eAAQjB,GACZiB,EAAMC,QACPD,EAAMC,MAAQ,IAEdD,EAAMC,MAAMhB,EAAQE,KACpBa,EAAMC,MAAMhB,EAAQE,MAAQ,EAE5Ba,EAAMC,MAAMhB,EAAQE,KAAO,EAG1Ba,EAAME,aACPF,EAAME,WAAa,GAEvBF,EAAME,YAAc,EACpBlB,EAAQgB,GACRnB,GAAY,GACZsB,YAAW,WACPtB,GAAY,KACb,KAauDuB,CAAUP,EAAGZ,IAAYM,UAAS,UAAKX,EAAW,eAAiB,gBAAjC,qCAAhF,gBAAyKA,EAAW,KAAO,eCZhMyB,EA3BE,WACb,MAAgC1B,mBAAS,IAAzC,mBAAO2B,EAAP,KAAiBC,EAAjB,KAcA,OAbAC,qBAAU,WACNC,MAAM,cAAe,CACjBC,QAAS,CACL,eAAgB,mBAChB,OAAU,sBAGbC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAL,GACFC,EAAYD,QAErB,IAGC,sBAAKf,UAAU,0BAAf,UACI,oBAAIA,UAAU,8BAAd,sBACA,qBAAKA,UAAU,oCAAf,SAEQe,EAASQ,KAAI,SAAA7B,GAAO,OAAI,cAAC,EAAD,CAA2BA,QAASA,GAAtBA,EAAQE,cCEnD4B,EAtBF,WACT,OACI,qCACI,qBAAKxB,UAAU,aAAf,SACI,sBAAKA,UAAU,sDAAf,UACI,sBAAKA,UAAU,aAAf,UACI,oBAAIA,UAAU,UAAd,SAAwB,mDACxB,oBAAIA,UAAU,iCAAd,0BACA,cAAC,IAAD,CAAML,GAAG,YAAT,SAAqB,wBAAQK,UAAU,qFAAlB,4BAEzB,qBAAKA,UAAU,QAAf,SACI,qBAAKA,UAAU,QAAQH,IAAI,kDAAkDE,IAAI,iBAI7F,qBAAKC,UAAU,QAAQyB,GAAG,WAA1B,SACI,cAAC,EAAD,UCRDC,EARM,WACjB,OACI,8BACI,cAAC,EAAD,OC6GGC,EAhHF,WACT,IAAIC,EAAQ,EACZ,EAAgCxC,mBAAS,IAAzC,mBAAO2B,EAAP,KAAiBC,EAAjB,KACA,EAA0BzB,qBAAWP,GAA7BQ,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAA2CL,oBAAS,GAApD,mBAAOyC,EAAP,KAAqBC,EAArB,KACAb,qBAAU,WACDzB,EAAKkB,QAGNmB,GAGJX,MAAM,cAAe,CAEjBC,QAAS,CACL,eAAgB,mBAChB,OAAU,sBAIbC,MAAK,SAAAW,GAAG,OAAIA,EAAIT,UAChBF,MAAK,SAAAL,GACFC,EAAYD,GACZe,GAAmB,SAE5B,CAACtC,EAAMqC,IACV,IAAMG,EAAS,SAACC,GAIZ,OAHKzC,EAAKkB,MAAMuB,IACZjB,EAAYD,EAASmB,QAAO,SAACxC,GAAD,OAAaA,EAAQE,MAAQqC,MAEtDzC,EAAKkB,MAAMuB,IAsBhBE,EAAS,SAACF,EAAW9B,GACvB,IAAIiC,EAAMjC,EAAQ6B,EAAOC,GAKzB,OAJKG,IACDA,EAAM,GAEVR,GAASQ,EACFA,GAgBX,OACIrB,EAASsB,OACL,sBAAKrC,UAAU,0CAAf,UACI,oBAAIA,UAAU,kBAAd,wBACA,6BAEQe,EAASQ,KAAI,SAAA7B,GACT,OACI,oBAAIM,UAAU,QAAd,SACI,sBAAKA,UAAU,oCAAf,UACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,OAAOH,IAAKH,EAAQI,MAAOC,IAAI,KAC9C,sBAAMC,UAAU,sBAAhB,SAAuCN,EAAQO,UAEnD,gCACI,wBAAQI,QAAS,YA/CvC,SAAC4B,GACf,IAAMK,EAAc9C,EAAKkB,MAAMuB,GAC/B,GAAKK,GAA+B,IAAhBA,EAApB,CAGA,IAAM7B,EAAK,eAAQjB,GACnBiB,EAAMC,MAAMuB,GAAaK,EAAc,EACvC7B,EAAME,YAAc,EACpBlB,EAAQgB,IAuCqD8B,CAAU7C,EAAQE,MAAQI,UAAU,oDAA7D,eACA,mBAAGA,UAAU,OAAb,SAAqBgC,EAAOtC,EAAQE,OACpC,wBAAQS,QAAS,YA3DvC,SAAC4B,GACf,IAAMK,EAAc9C,EAAKkB,MAAMuB,GAC/B,GAAKK,EAAL,CAGA,IAAM7B,EAAK,eAAQjB,GACnBiB,EAAMC,MAAMuB,GAAaK,EAAc,EACvC7B,EAAME,YAAc,EACpBlB,EAAQgB,IAmDqD+B,CAAU9C,EAAQE,MAAQI,UAAU,oDAA7D,kBAEJ,2CAASmC,EAAOzC,EAAQE,IAAKF,EAAQS,UACrC,wBAAQE,QAAS,YAlChC,SAAC4B,GAClB,IAAMxB,EAAK,eAAQjB,GACbiD,EAAMhC,EAAMC,MAAMuB,UACjBxB,EAAMC,MAAMuB,GACnBxB,EAAME,YAAc8B,EACpBhD,EAAQgB,GACR,IAAMiC,EAAqB3B,EAASmB,QAAO,SAACxC,GAAD,OAAaA,EAAQE,MAAQqC,KACxEjB,EAAY0B,GA2B6CC,CAAajD,EAAQE,MAAQI,UAAU,4DAAhE,wBAZmBN,EAAQE,UAmBnD,oBAAII,UAAU,SACd,sBAAKA,UAAU,aAAf,UACI,6CADJ,WAC2B4B,KAE3B,qBAAK5B,UAAU,kBAAf,SACI,wBAAQK,QArCD,WACnBuC,MAAM,6BACN5B,EAAY,IACZvB,EAAQ,KAkCqCO,UAAU,oDAA3C,4BAEC,qBAAKA,UAAU,sBAAsBH,IAAI,wCAAwCE,IAAI,gBC3E3F8C,EAhCI,WACf,IAMQrD,EAASD,qBAAWP,GAApBQ,KAER,OACI,mCACI,sBAAKQ,UAAU,4DAAf,UACI,cAAC,IAAD,CAAML,GAAG,IAAT,SACI,qBAAKmD,MAAO,CAAEC,OAAQ,IAAMlD,IAAI,kCAAkCG,UAAU,OAAOD,IAAI,WAE3F,qBAAIC,UAAU,oBAAd,UACI,6BAAI,cAAC,IAAD,CAAML,GAAG,IAAT,oBACJ,oBAAIK,UAAU,OAAd,SAAqB,cAAC,IAAD,CAAML,GAAG,YAAT,wBACrB,oBAAIK,UAAU,OAAd,SACI,cAAC,IAAD,CAAML,GAAG,QAAT,SACI,sBAAKmD,MAnBX,CACdE,WAAY,UACZC,QAAS,OACTC,QAAS,WACTC,aAAc,QAeM,UACI,+BAAO3D,EAAKmB,WAAanB,EAAKmB,WAAa,IAC3C,qBAAKX,UAAU,OAAOH,IAAI,kCAAkCE,IAAI,8BCkCjFqD,EAvDO,WAClB,MAAgChE,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BC,qBAAWP,GAA7BQ,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAA8BL,mBAAS,IAAvC,mBAAOM,EAAP,KAAgB2D,EAAhB,KACMC,EAASC,cACTC,EAAUC,cAmChB,OAZAxC,qBAAU,WACNC,MAAM,4BAA6B,CAC/BC,QAAS,CACL,eAAgB,mBAChB,OAAU,sBAGbC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAL,GACFsC,EAAWtC,ECjCH,SAAC2C,EAAOC,EAAKC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAItB,OAAQwB,IAC5B,GAAIF,EAAIE,GAAGD,KAAUF,EACjB,OAAOG,EAGf,OAAQ,ED2BwBC,CAASR,EAAO1D,IAAKmB,EAAU,cAE5D,CAACuC,EAAO1D,MAEP,sBAAKI,UAAU,0BAAf,UACI,wBAAQA,UAAU,uBAAuBK,QAAS,WAAQmD,EAAQO,UAAlE,kBACA,sBAAK/D,UAAU,OAAf,UACI,qBAAKH,IAAKH,EAAQI,MAAOE,UAAU,OAAOD,IAAI,UAC9C,sBAAKC,UAAU,QAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmCN,EAAQO,OAC3C,qBAAKD,UAAU,UAAf,SAA0BN,EAAQQ,OAClC,sBAAKF,UAAU,iBAAf,oBAAmCN,EAAQS,SAC3C,yBAAQC,SAAUf,EAAUgB,QAAS,SAACC,IA3CpC,SAACC,EAAOb,GACtBa,EAAMC,iBACN,IAAIC,EAAK,eAAQjB,GACZiB,EAAMC,QACPD,EAAMC,MAAQ,IAEdD,EAAMC,MAAMhB,EAAQE,KACpBa,EAAMC,MAAMhB,EAAQE,MAAQ,EAE5Ba,EAAMC,MAAMhB,EAAQE,KAAO,EAG1Ba,EAAME,aACPF,EAAME,WAAa,GAEvBF,EAAME,YAAc,EACpBlB,EAAQgB,GACRnB,GAAY,GACZsB,YAAW,WACPtB,GAAY,KACb,KAuBuDuB,CAAUP,EAAGZ,IAAYM,UAAS,UAAKX,EAAW,eAAiB,gBAAjC,qCAAhF,gBAAyKA,EAAW,KAAO,gBEhBhM2E,EA5BH,WACV,MAAwB5E,mBAAS,IAAjC,mBAAOI,EAAP,KAAaC,EAAb,KASA,OARAwB,qBAAU,WDXD,IAAIgD,SAAQ,SAACC,EAASC,GAEzBD,EADaE,OAAOC,aAAaC,QAAQ,YCWnClD,MAAK,SAAA5B,GACbC,EAAQ8E,KAAKC,MAAMhF,SAEpB,IACHyB,qBAAU,YDXa,SAACzB,GACtB4E,OAAOC,aAAaI,QAAQ,OAAQjF,GCWpCkF,CAAUH,KAAKI,UAAUnF,MACxB,CAACA,IAEF,mCACE,cAAC,IAAD,CAAQoF,SAAUC,kBAAlB,SACE,eAAC7F,EAAY8F,SAAb,CAAsBpB,MAAO,CAAElE,OAAMC,WAArC,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsF,KAAK,IAAIC,UAAWxD,EAAMyD,OAAK,IAEtC,cAAC,IAAD,CAAOF,KAAK,YAAYE,OAAK,EAACD,UAAWtD,IACzC,cAAC,IAAD,CAAOqD,KAAK,iBAAiBC,UAAW5B,IACxC,cAAC,IAAD,CAAO2B,KAAK,QAAQC,UAAWrD,eClB5BuD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBhE,MAAK,YAAkD,IAA/CiE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAehB,SAAUC,kBAAzB,SACE,cAAC,IAAD,CAAYD,SAAUC,kBAAtB,SACE,cAAC,EAAD,UAINgB,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.9cfb6e0c.chunk.js","sourcesContent":["import { createContext } from 'react';\r\nexport const CartContext = createContext(null);","import { Link } from 'react-router-dom';\r\nimport { useContext, useState } from 'react';\r\nimport { CartContext } from '../CartContext';\r\n\r\nconst Product = (props) => {\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const { product } = props;\r\n\r\n    const addToCart = (event, product) => {\r\n        event.preventDefault();\r\n        let _cart = { ...cart }; // { items: {}}\r\n        if (!_cart.items) {\r\n            _cart.items = {}\r\n        }\r\n        if (_cart.items[product._id]) {\r\n            _cart.items[product._id] += 1;\r\n        } else {\r\n            _cart.items[product._id] = 1;\r\n        }\r\n\r\n        if (!_cart.totalItems) {\r\n            _cart.totalItems = 0;\r\n        }\r\n        _cart.totalItems += 1;\r\n        setCart(_cart);\r\n        setIsAdding(true);\r\n        setTimeout(() => {\r\n            setIsAdding(false);\r\n        }, 1000);\r\n    }\r\n\r\n    return (\r\n        <Link to={`/products/${product._id}`}>\r\n            <div>\r\n                <img src={product.image} alt=\"pizza\" />\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-lg font-bold py-2\">{product.name}</h2>\r\n                    <span className=\"bg-gray-200 py-1 rounded-full text-sm px-4\">{product.size}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center mt-4\">\r\n                    <span>₹ {product.price}</span>\r\n                    <button disabled={isAdding} onClick={(e) => { addToCart(e, product) }} className={`${isAdding ? 'bg-green-500' : 'bg-yellow-500'} py-1 px-4 rounded-full font-bold`}>ADD{isAdding ? 'ED' : ''}</button>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default Product;","import { React, useState, useEffect } from 'react';\r\nimport Product from './Product';\r\n\r\nconst Products = () => {\r\n    const [products, setProducts] = useState([]);\r\n    useEffect(() => {\r\n        fetch('./data.json', {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(products => {\r\n                setProducts(products);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container mx-auto pb-24\">\r\n            <h1 className=\"mx-5 text-lg font-bold my-8\">Products</h1>\r\n            <div className=\"grid grid-cols-5 my-8 mx-5 gap-24\">\r\n                {\r\n                    products.map(product => <Product key={product._id} product={product} />)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Products;","import { Link } from \"react-router-dom\";\r\nimport Products from \"../components/Products\";\r\n\r\nconst Home = () => {\r\n    return (\r\n        <>\r\n            <div className=\"hero py-16\">\r\n                <div className=\"container mx-auto flex items-center justify-between\">\r\n                    <div className=\"w-1/2 mx-5\">\r\n                        <h6 className=\"text-lg\"><em>Are you hungry?</em></h6>\r\n                        <h1 className=\"text-3xl md:text-6xl font-bold\">Don't wait !</h1>\r\n                        <Link to=\"/products\"><button className=\"px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500 hover:bg-yellow-600\">Order Now</button></Link>\r\n                    </div>\r\n                    <div className=\"w-1/2\">\r\n                        <img className=\"w-4/5\" src=\"/food-order-app/images/IndianTandooriPaneer.jpg\" alt=\"pizza\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"pb-24\" id=\"products\">\r\n                <Products />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport Products from '../components/Products'\r\n\r\nconst ProductsPage = () => {\r\n    return (\r\n        <div>\r\n            <Products />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsPage\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { CartContext } from '../CartContext'\r\n\r\nconst Cart = () => {\r\n    let total = 0;\r\n    const [products, setProducts] = useState([]);\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const [priceFetched, togglePriceFetched] = useState(false);\r\n    useEffect(() => {\r\n        if (!cart.items) {\r\n            return;\r\n        }\r\n        if (priceFetched) {\r\n            return;\r\n        }\r\n        fetch('./data.json', {\r\n            // method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n            // body: JSON.stringify({ id: Object.keys(cart.items) })\r\n        })\r\n            .then(res => res.json())\r\n            .then(products => {\r\n                setProducts(products);\r\n                togglePriceFetched(true);\r\n            });\r\n    }, [cart, priceFetched]);\r\n    const getQty = (productId) => {\r\n        if (!cart.items[productId]) {\r\n            setProducts(products.filter((product) => product._id !== productId));\r\n        }\r\n        return cart.items[productId];\r\n    }\r\n    const increment = (productId) => {\r\n        const existingQty = cart.items[productId];\r\n        if (!existingQty) {\r\n            return;\r\n        }\r\n        const _cart = { ...cart };\r\n        _cart.items[productId] = existingQty + 1;\r\n        _cart.totalItems += 1;\r\n        setCart(_cart);\r\n    }\r\n    const decrement = (productId) => {\r\n        const existingQty = cart.items[productId];\r\n        if (!existingQty || existingQty === 1) {\r\n            return;\r\n        }\r\n        const _cart = { ...cart };\r\n        _cart.items[productId] = existingQty - 1;\r\n        _cart.totalItems -= 1;\r\n        setCart(_cart);\r\n    }\r\n    const getSum = (productId, price) => {\r\n        let sum = price * getQty(productId);\r\n        if (!sum) {\r\n            sum = 0;\r\n        }\r\n        total += sum\r\n        return sum;\r\n    }\r\n    const handleDelete = (productId) => {\r\n        const _cart = { ...cart };\r\n        const qty = _cart.items[productId];\r\n        delete _cart.items[productId];\r\n        _cart.totalItems -= qty;\r\n        setCart(_cart);\r\n        const updatedProductList = products.filter((product) => product._id !== productId);\r\n        setProducts(updatedProductList);\r\n    }\r\n    const handleOrderNow = () => {\r\n        alert(\"Order Placed Successfully\");\r\n        setProducts([]);\r\n        setCart({});\r\n    }\r\n    return (\r\n        products.length ?\r\n            <div className=\"container mx-auto lg:w-1/2 w-full pb-24\">\r\n                <h1 className=\"my-12 font-bold\">Cart items</h1>\r\n                <ul>\r\n                    {\r\n                        products.map(product => {\r\n                            return (\r\n                                <li className=\"mb-12\" key={product._id}>\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <img className=\"h-16\" src={product.image} alt=\"\" />\r\n                                            <span className=\"font-bold ml-4 w-48\">{product.name}</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button onClick={() => { decrement(product._id) }} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">-</button>\r\n                                            <b className=\"px-4\">{getQty(product._id)}</b>\r\n                                            <button onClick={() => { increment(product._id) }} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">+</button>\r\n                                        </div>\r\n                                        <span>₹ {getSum(product._id, product.price)}</span>\r\n                                        <button onClick={() => { handleDelete(product._id) }} className=\"bg-red-500 px-4 py-2 rounded-full leading-none text-white\">Delete</button>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        })\r\n                    }\r\n                </ul>\r\n                <hr className=\"my-6\" />\r\n                <div className=\"text-right\">\r\n                    <b>Grand Total:</b> ₹ {total}\r\n                </div>\r\n                <div className=\"text-right mt-6\">\r\n                    <button onClick={handleOrderNow} className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">Order Now</button>\r\n                </div>\r\n            </div> : <img className=\"mx-auto w-1/2 mt-12\" src=\"/food-order-app/images/empty-cart.png\" alt=\"Empty Cart\" />\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import { Link } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { CartContext } from '../CartContext';\r\n\r\nconst Navigation = () => {\r\n    const cartStyle = {\r\n        background: '#F59E0D',\r\n        display: 'flex',\r\n        padding: '6px 12px',\r\n        borderRadius: '50px'\r\n    }\r\n    const { cart } = useContext(CartContext);\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"container mx-auto flex items-center justify-between py-4 \">\r\n                <Link to=\"/\">\r\n                    <img style={{ height: 45 }} src=\"/food-order-app/images/logo.png\" className=\"mx-5\" alt=\"logo\" />\r\n                </Link>\r\n                <ul className=\"flex items-center\">\r\n                    <li><Link to=\"/\">Home</Link></li>\r\n                    <li className=\"ml-6\"><Link to=\"/products\">Products</Link></li>\r\n                    <li className=\"ml-6\">\r\n                        <Link to=\"/cart\">\r\n                            <div style={cartStyle}>\r\n                                <span>{cart.totalItems ? cart.totalItems : 0}</span>\r\n                                <img className=\"ml-2\" src=\"/food-order-app/images/cart.png\" alt=\"cart-icon\" />\r\n                            </div>\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { CartContext } from '../CartContext';\r\nimport { getIndex } from '../helpers';\r\n\r\nconst SingleProduct = () => {\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const [product, setProduct] = useState({});\r\n    const params = useParams();\r\n    const history = useHistory();\r\n    const addToCart = (event, product) => {\r\n        event.preventDefault();\r\n        let _cart = { ...cart };\r\n        if (!_cart.items) {\r\n            _cart.items = {}\r\n        }\r\n        if (_cart.items[product._id]) {\r\n            _cart.items[product._id] += 1;\r\n        } else {\r\n            _cart.items[product._id] = 1;\r\n        }\r\n\r\n        if (!_cart.totalItems) {\r\n            _cart.totalItems = 0;\r\n        }\r\n        _cart.totalItems += 1;\r\n        setCart(_cart);\r\n        setIsAdding(true);\r\n        setTimeout(() => {\r\n            setIsAdding(false);\r\n        }, 1000);\r\n    }\r\n    useEffect(() => {\r\n        fetch('/food-order-app/data.json', {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(products => {\r\n                setProduct(products[getIndex(params._id, products, '_id')]);\r\n            });\r\n    }, [params._id]);\r\n    return (\r\n        <div className=\"container mx-auto mt-12\">\r\n            <button className=\"mb-12 font-bold ml-5\" onClick={() => { history.goBack() }}>Back</button>\r\n            <div className=\"flex\">\r\n                <img src={product.image} className=\"ml-5\" alt=\"pizza\" />\r\n                <div className=\"ml-16\">\r\n                    <h1 className=\"text-xl font-bold\">{product.name}</h1>\r\n                    <div className=\"text-md\">{product.size}</div>\r\n                    <div className=\"font-bold mt-2\">₹ {product.price}</div>\r\n                    <button disabled={isAdding} onClick={(e) => { addToCart(e, product) }} className={`${isAdding ? 'bg-green-500' : 'bg-yellow-500'} py-1 px-4 rounded-full font-bold`}>ADD{isAdding ? 'ED' : ''}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default SingleProduct\r\n","export const getCart = () => {\r\n    return new Promise((reslove, reject) => {\r\n        const cart = window.localStorage.getItem('cart');\r\n        reslove(cart);\r\n    })\r\n}\r\nexport const storeCart = (cart) => {\r\n    window.localStorage.setItem('cart', cart);\r\n}\r\nexport const getIndex = (value, arr, prop) => {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i][prop] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\nimport ProductsPage from './pages/ProductsPage';\r\nimport Cart from './pages/Cart';\r\nimport Navigation from './components/Navigation';\r\nimport SingleProduct from './pages/SingleProduct';\r\nimport { CartContext } from './CartContext';\r\nimport { useEffect, useState } from 'react';\r\nimport { getCart, storeCart } from './helpers';\r\n\r\nconst App = () => {\r\n  const [cart, setCart] = useState({});\r\n  useEffect(() => {\r\n    getCart().then(cart => {\r\n      setCart(JSON.parse(cart));\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    storeCart(JSON.stringify(cart));\r\n  }, [cart]);\r\n  return (\r\n    <>\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <CartContext.Provider value={{ cart, setCart }}>\r\n          <Navigation />\r\n          <Switch>\r\n            <Route path=\"/\" component={Home} exact></Route>\r\n            {/* <Route path=\"/about\" component={About}></Route> */}\r\n            <Route path=\"/products\" exact component={ProductsPage}></Route>\r\n            <Route path=\"/products/:_id\" component={SingleProduct}></Route>\r\n            <Route path=\"/cart\" component={Cart}></Route>\r\n          </Switch>\r\n        </CartContext.Provider>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <App />\r\n      </HashRouter>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}