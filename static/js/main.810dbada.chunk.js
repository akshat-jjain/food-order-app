(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(17),i=c.n(a),l=(c(23),c(7)),r=c(4),o=c(2),j=c(9),d=Object(n.createContext)(null),b=c(0),m=function(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),s=c[0],a=c[1],i=Object(n.useContext)(d),o=i.cart,m=i.setCart,u=e.product;return Object(b.jsx)(r.c,{to:"/products/".concat(u._id),children:Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:u.image,alt:"pizza"}),Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("h2",{className:"text-lg font-bold py-2",children:u.name}),Object(b.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4",children:u.size})]}),Object(b.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[Object(b.jsxs)("span",{children:["\u20b9 ",u.price]}),Object(b.jsxs)("button",{disabled:s,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(j.a)({},o);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,m(c),a(!0),setTimeout((function(){a(!1)}),1e3)}(e,u)},className:"".concat(s?"bg-green-500":"bg-yellow-500"," py-1 px-4 rounded-full font-bold"),children:["ADD",s?"ED":""]})]})]})})},u=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("./data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(b.jsxs)("div",{className:"container mx-auto pb-24",children:[Object(b.jsx)("h1",{className:"mx-5 text-lg font-bold my-8",children:"Products"}),Object(b.jsx)("div",{className:"grid grid-cols-5 my-8 mx-5 gap-24",children:c.map((function(e){return Object(b.jsx)(m,{product:e},e._id)}))})]})},x=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"hero py-16",children:Object(b.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[Object(b.jsxs)("div",{className:"w-1/2 mx-5",children:[Object(b.jsx)("h6",{className:"text-lg",children:Object(b.jsx)("em",{children:"Are you hungry?"})}),Object(b.jsx)("h1",{className:"text-3xl md:text-6xl font-bold",children:"Don't wait !"}),Object(b.jsx)(r.c,{to:"/products",children:Object(b.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500 hover:bg-yellow-600",children:"Order Now"})})]}),Object(b.jsx)("div",{className:"w-1/2",children:Object(b.jsx)("img",{className:"w-4/5",src:"/food-order-app/images/IndianTandooriPaneer.jpg",alt:"pizza"})})]})}),Object(b.jsx)("div",{className:"pb-24",id:"products",children:Object(b.jsx)(u,{})})]})},O=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(u,{})})},f=function(){var e=0,t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],i=Object(n.useContext)(d),r=i.cart,o=i.setCart,m=Object(n.useState)(!1),u=Object(l.a)(m,2),x=u[0],O=u[1];Object(n.useEffect)((function(){r.items&&(x||fetch("./data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e),O(!0)})))}),[r,x]);var f=function(e){return r.items[e]||a(s.filter((function(t){return t._id!==e}))),r.items[e]},h=function(t,c){var n=c*f(t);return n||(n=0),e+=n,n};return s.length?Object(b.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24",children:[Object(b.jsx)("h1",{className:"my-12 font-bold",children:"Cart items"}),Object(b.jsx)("ul",{children:s.map((function(e){return Object(b.jsx)("li",{className:"mb-12",children:Object(b.jsxs)("div",{className:"flex items-center justify-between",children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("img",{className:"h-16",src:e.image,alt:""}),Object(b.jsx)("span",{className:"font-bold ml-4 w-48",children:e.name})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){!function(e){var t=r.items[e];if(t&&1!==t){var c=Object(j.a)({},r);c.items[e]=t-1,c.totalItems-=1,o(c)}}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"-"}),Object(b.jsx)("b",{className:"px-4",children:f(e._id)}),Object(b.jsx)("button",{onClick:function(){!function(e){var t=r.items[e];if(t){var c=Object(j.a)({},r);c.items[e]=t+1,c.totalItems+=1,o(c)}}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"+"})]}),Object(b.jsxs)("span",{children:["\u20b9 ",h(e._id,e.price)]}),Object(b.jsx)("button",{onClick:function(){!function(e){var t=Object(j.a)({},r),c=t.items[e];delete t.items[e],t.totalItems-=c,o(t);var n=s.filter((function(t){return t._id!==e}));a(n)}(e._id)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white",children:"Delete"})]})},e._id)}))}),Object(b.jsx)("hr",{className:"my-6"}),Object(b.jsxs)("div",{className:"text-right",children:[Object(b.jsx)("b",{children:"Grand Total:"})," \u20b9 ",e]}),Object(b.jsx)("div",{className:"text-right mt-6",children:Object(b.jsx)("button",{onClick:function(){alert("Order Placed Successfully"),a([]),o({})},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"Order Now"})})]}):Object(b.jsx)("img",{className:"mx-auto w-1/2 mt-12",src:"/food-order-app/images/empty-cart.png",alt:"Empty Cart"})},h=function(){var e=Object(n.useContext)(d).cart;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("nav",{className:"container mx-auto flex items-center justify-between py-4 ",children:[Object(b.jsx)(r.c,{to:"/",children:Object(b.jsx)("img",{style:{height:45},src:"/food-order-app/images/logo.png",className:"mx-5",alt:"logo"})}),Object(b.jsxs)("ul",{className:"flex items-center",children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:"/",children:"Home"})}),Object(b.jsx)("li",{className:"ml-6",children:Object(b.jsx)(r.c,{to:"/products",children:"Products"})}),Object(b.jsx)("li",{className:"ml-6",children:Object(b.jsx)(r.c,{to:"/cart",children:Object(b.jsxs)("div",{style:{background:"#F59E0D",display:"flex",padding:"6px 12px",borderRadius:"50px"},children:[Object(b.jsx)("span",{children:e.totalItems?e.totalItems:0}),Object(b.jsx)("img",{className:"ml-2",src:"/food-order-app/images/cart.png",alt:"cart-icon"})]})})})]})]})})},p=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useContext)(d),i=a.cart,r=a.setCart,m=Object(n.useState)({}),u=Object(l.a)(m,2),x=u[0],O=u[1],f=Object(o.g)(),h=Object(o.f)();return Object(n.useEffect)((function(){fetch("./data.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e[function(e,t,c){for(var n=0;n<t.length;n++)if(t[n][c]===e)return n;return-1}(f._id,e,"_id")])}))}),[f._id]),Object(b.jsxs)("div",{className:"container mx-auto mt-12",children:[Object(b.jsx)("button",{className:"mb-12 font-bold ml-5",onClick:function(){h.goBack()},children:"Back"}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("img",{src:x.image,className:"ml-5",alt:"pizza"}),Object(b.jsxs)("div",{className:"ml-16",children:[Object(b.jsx)("h1",{className:"text-xl font-bold",children:x.name}),Object(b.jsx)("div",{className:"text-md",children:x.size}),Object(b.jsxs)("div",{className:"font-bold mt-2",children:["\u20b9 ",x.price]}),Object(b.jsxs)("button",{disabled:c,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(j.a)({},i);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,r(c),s(!0),setTimeout((function(){s(!1)}),1e3)}(e,x)},className:"".concat(c?"bg-green-500":"bg-yellow-500"," py-1 px-4 rounded-full font-bold"),children:["ADD",c?"ED":""]})]})]})]})},g=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){new Promise((function(e,t){e(window.localStorage.getItem("cart"))})).then((function(e){s(JSON.parse(e))}))}),[]),Object(n.useEffect)((function(){!function(e){window.localStorage.setItem("cart",e)}(JSON.stringify(c))}),[c]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(r.a,{basename:"/food-order-app",children:Object(b.jsxs)(d.Provider,{value:{cart:c,setCart:s},children:[Object(b.jsx)(h,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",component:x,exact:!0}),Object(b.jsx)(o.a,{path:"/products",exact:!0,component:O}),Object(b.jsx)(o.a,{path:"/products/:_id",component:p}),Object(b.jsx)(o.a,{path:"/cart",component:f})]})]})})})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(r.a,{basename:"/food-order-app",children:Object(b.jsx)(r.b,{basename:"/food-order-app",children:Object(b.jsx)(g,{})})})}),document.getElementById("root")),N()}},[[30,1,2]]]);
//# sourceMappingURL=main.810dbada.chunk.js.map